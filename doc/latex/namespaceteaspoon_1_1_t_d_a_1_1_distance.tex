\hypertarget{namespaceteaspoon_1_1_t_d_a_1_1_distance}{}\section{teaspoon.\+T\+D\+A.\+Distance Namespace Reference}
\label{namespaceteaspoon_1_1_t_d_a_1_1_distance}\index{teaspoon.\+T\+D\+A.\+Distance@{teaspoon.\+T\+D\+A.\+Distance}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceteaspoon_1_1_t_d_a_1_1_distance_ad3481b3888962dbf302bacb9d9504e8b}{dgm\+Dist\+\_\+\+Hera} (D1, D2, wass\+Deg=\textquotesingle{}Bottleneck\textquotesingle{}, rel\+Error=None, internal\+\_\+p=None)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Created on Jun 9, 2016

Has code for computing pairwise distance for diagrams.

@author: liz
\end{DoxyVerb}
 

\subsection{Function Documentation}
\index{teaspoon\+::\+T\+D\+A\+::\+Distance@{teaspoon\+::\+T\+D\+A\+::\+Distance}!dgm\+Dist\+\_\+\+Hera@{dgm\+Dist\+\_\+\+Hera}}
\index{dgm\+Dist\+\_\+\+Hera@{dgm\+Dist\+\_\+\+Hera}!teaspoon\+::\+T\+D\+A\+::\+Distance@{teaspoon\+::\+T\+D\+A\+::\+Distance}}
\subsubsection[{\texorpdfstring{dgm\+Dist\+\_\+\+Hera(\+D1, D2, wass\+Deg=\textquotesingle{}\+Bottleneck\textquotesingle{}, rel\+Error=\+None, internal\+\_\+p=\+None)}{dgmDist_Hera(D1, D2, wassDeg='Bottleneck', relError=None, internal_p=None)}}]{\setlength{\rightskip}{0pt plus 5cm}def teaspoon.\+T\+D\+A.\+Distance.\+dgm\+Dist\+\_\+\+Hera (
\begin{DoxyParamCaption}
\item[{}]{D1, }
\item[{}]{D2, }
\item[{}]{wass\+Deg = {\ttfamily \textquotesingle{}Bottleneck\textquotesingle{}}, }
\item[{}]{rel\+Error = {\ttfamily None}, }
\item[{}]{internal\+\_\+p = {\ttfamily None}}
\end{DoxyParamCaption}
)}\hypertarget{namespaceteaspoon_1_1_t_d_a_1_1_distance_ad3481b3888962dbf302bacb9d9504e8b}{}\label{namespaceteaspoon_1_1_t_d_a_1_1_distance_ad3481b3888962dbf302bacb9d9504e8b}
\begin{DoxyVerb}TODO: This documentation needs cleaning and updating.

Computes the distance using the geom_bottleneck and geom_matching code
from hera, found at https://bitbucket.org/grey_narn/hera

Need to build the C++ code, then add bottleneck_dist folder and wasserstein_dist to path
On Liz's machine, this involves adding the following lines to the ~/.bashrc
    export PATH="/home/liz/Dropbox/Math/Code/hera/geom_matching/wasserstein/build:$PATH"
    export PATH="/home/liz/Dropbox/Math/Code/hera/geom_bottleneck/build/example:$PATH"


Default values for wasserstein_dist from Hera: 



internal_p must be in $[1.0, \infinity]$ (to explicitly set internal_p to $\infinity$, supply inf).By default wasserstein degree is 1.0, relative error is 0.01, internal norm is l_infinity.

hera input format:
bottleneck_dist file1 file2  [relative_error]
wasserstein_dist file1 file2  [wasserstein degree] [relative error] [internal norm] 



Parameters
----------
D1, D2
    Persistence diagrams given as Lx2 numpy arrays.
wassDeg
    Options are:
    - 'Bottleneck' or anything containing 'bot'
        Runs the bottleneck_dist command
    - np.inf 
        Also returns bottleneck distance with the bottleneck_dist command
    - an integer q 
        Computes the q-th Wasserstein distance
relError
    - An input to both bottleneck_dist and wasserstein_dist.

      For wasserstein_dist from hera documentation:
        If two diagrams are equal, then the exact distance 0.0 is printed (the order of points in file1 and file2 need not be the same).
        Otherwise the output is an approximation of the exact distance. Precisely:
        if d_exact is the true distance and d_approx is the output, then 

            | d_exact - d_approx | / d_exact < relative_error.

      For bottleneck_dist from hera documentation:
        If two diagrams are equal, then the exact distance 0.0 is printed (the order of points in file1 and file2 need not be the same). Otherwise the output is an approximation of the exact distance. Precisely: if d_exact is the true distance and d_approx is the output, then 
            | d_exact - d_approx | / d_exact < relative_error.
    - Default value in Hera is 0.01 for Wasserstein distance and 0 (exact computation) for bottleneck distance. 
    - Values passed to hera must be positive. TODO: Does this mean strictly positive? What is the behavior when passing 0?
internal_p
    This is only controllable for Wasserstein distance computation.  Matched points are measured by $L_p$ distance.
    Default is internal_p = infinity.
    TODO: Check that bottleneck_dist uses infinity even though it doesn't explicitly say so in the documentation.



Returns
-------
distance
    - a float for the distance between the diagrams\end{DoxyVerb}
 
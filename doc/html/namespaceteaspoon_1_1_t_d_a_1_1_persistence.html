<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>teaspoon: teaspoon.TDA.Persistence Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">teaspoon
   </div>
   <div id="projectbrief">Python wrappers for TDA</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Functions</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>teaspoon</b></li><li class="navelem"><b>TDA</b></li><li class="navelem"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html">Persistence</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">teaspoon.TDA.Persistence Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acc283535d8596af92ab1e7e9455d09b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc283535d8596af92ab1e7e9455d09b2"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>testCommand</b> ()</td></tr>
<tr class="separator:acc283535d8596af92ab1e7e9455d09b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa767596a9f61323ef4e489e42890cd45"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html#aa767596a9f61323ef4e489e42890cd45">prepareFolders</a> ()</td></tr>
<tr class="separator:aa767596a9f61323ef4e489e42890cd45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d273210437e69be2df595ed1751c661"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html#a3d273210437e69be2df595ed1751c661">readPerseusOutput</a> (outputFileName)</td></tr>
<tr class="separator:a3d273210437e69be2df595ed1751c661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862eea03c953145bb9290c1681f1f850"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a862eea03c953145bb9290c1681f1f850"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>readRipserString</b> (s)</td></tr>
<tr class="separator:a862eea03c953145bb9290c1681f1f850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea0e5c0180eff1391c4ac0cf126694c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ea0e5c0180eff1391c4ac0cf126694c"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>readRipserOutput</b> (out)</td></tr>
<tr class="separator:a4ea0e5c0180eff1391c4ac0cf126694c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38f90d312da5c7fb8587a2f44e67b8a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html#ae38f90d312da5c7fb8587a2f44e67b8a">VR_Ripser</a> (P, maxDim=1)</td></tr>
<tr class="separator:ae38f90d312da5c7fb8587a2f44e67b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a074e092c57bca5b1652c7b2a2c41f603"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html#a074e092c57bca5b1652c7b2a2c41f603">writePointCloudFileForPerseus</a> (P, filename, stepSize=.1, numSteps=500)</td></tr>
<tr class="separator:a074e092c57bca5b1652c7b2a2c41f603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3954f45636c5f88b8e7cb7b422eea3d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html#ae3954f45636c5f88b8e7cb7b422eea3d">VR_Perseus</a> (P, dim=1, maxRadius=3, numSteps=100, stepSize=None, suppressOutput=True)</td></tr>
<tr class="separator:ae3954f45636c5f88b8e7cb7b422eea3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d253547a9b956b8d5169808f31b42d2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html#a5d253547a9b956b8d5169808f31b42d2">distMat_Ripser</a> (distMat, maxDim=1)</td></tr>
<tr class="separator:a5d253547a9b956b8d5169808f31b42d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0660fcd00ca57001f21bfaaefb1da9c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0660fcd00ca57001f21bfaaefb1da9c3"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>distMat_Perseus</b> ()</td></tr>
<tr class="separator:a0660fcd00ca57001f21bfaaefb1da9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee47776929d1ade75b059415918a328"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html#a7ee47776929d1ade75b059415918a328">writeMatrixFileForPerseus</a> (M, filesavename)</td></tr>
<tr class="separator:a7ee47776929d1ade75b059415918a328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa583aa9a694aeaa3983e77319ac68e84"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceteaspoon_1_1_t_d_a_1_1_persistence.html#aa583aa9a694aeaa3983e77319ac68e84">Cubical_Perseus</a> (M, numDigits=2, suppressOutput=True)</td></tr>
<tr class="separator:aa583aa9a694aeaa3983e77319ac68e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Created July 6, 2017
Liz Munch
muncheli@msu.edu


Wrapper for using various fast persistence software inside of python.

All diagrams are stored as a 2xN numpy matrix.
When a code returns multiple dimensions, these are returned as a dictionary
{
0: DgmDimension0,
1: DgmDimension1,
...
}
Infinite classes are given an entry of np.inf.

All data files are saved in a hidden folder .teaspoonData
This folder is created if it doesn't already exist.
Files are repeatedly emptied out of it, so do not save anything in it that you might want later!</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa583aa9a694aeaa3983e77319ac68e84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def teaspoon.TDA.Persistence.Cubical_Perseus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>numDigits</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>suppressOutput</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes persistence for a matrix of function values.
Uses Vidit Nanda's perseus.
Notes:
- perseus must be in the bash path
- matrix must be 2-dimensional

TODO: Update this to accept higher dimensional cubical complexes

Parameters
----------
M
    a 2D numpy array
numDigits
    Perseus only accepts positive integer valued matrices.  To 
    compensate, we apply the transformation 
            x -&gt; x* (10**numDigits) + M.min()
    then calculate persistence on the resulting matrix.
    The persistence diagram birth/death times are then converted
    back via the inverse transform.
suppressOutput
    If true, gets rid of printed output from perseus.

Outputs
-------
Dgms
    A dictionary with integer keys 0,1,...,N 
    The key gives the dimension of the persistence diagram.</pre> 
</div>
</div>
<a class="anchor" id="a5d253547a9b956b8d5169808f31b42d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def teaspoon.TDA.Persistence.distMat_Ripser </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>distMat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxDim</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes persistence up to maxDim using Uli Bauer's Ripser
Needs to be installed on machine in advance
https://github.com/Ripser/ripser 


Parameters
----------
distMat -
    A distance matrix given as a NxN numpy array
maxDim -
    An integer representing the maximum dimension
    for computing persistent homology

Returns
-------
Dgms -  
    A dictionary where Dgms[k] is a lx2 matrix 
    giving points in the k-dimensional pers diagram</pre> 
</div>
</div>
<a class="anchor" id="aa767596a9f61323ef4e489e42890cd45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def teaspoon.TDA.Persistence.prepareFolders </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Checks that necessary folder structure system exists.
Empties out all previously saved files to avoid confusion.
</pre> 
</div>
</div>
<a class="anchor" id="a3d273210437e69be2df595ed1751c661"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def teaspoon.TDA.Persistence.readPerseusOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outputFileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reads in the diagrams in the format that perseus uses.
Returns a dictionary with integer keys representing the 
dimension of each diagram.
</pre> 
</div>
</div>
<a class="anchor" id="ae3954f45636c5f88b8e7cb7b422eea3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def teaspoon.TDA.Persistence.VR_Perseus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dim</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxRadius</em> = <code>3</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>numSteps</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stepSize</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>suppressOutput</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Does brips version of perseus.
Computes VR persitsence on points in Euclidean space.

Warnings:
1) Requires choice of maxRadius, numSteps, and/or stepSize. 
   Bad choices will give junk results.
2) TODO: This appears to spit out radius rather than diameter
   persistence computations.  Need to figure this out and 
   make the choice uniform across outputs.


Parameters
----------
P
    An NxD array.  Represents N points in R^D.
maxRadius
stepSize
numSteps
    Perseus requires that you decide how many steps, and how wide they are, rather than computing all possible topological changes.  So, persistence will be calculated from parameter 0 until 
    maxRadius = stepSize*numSteps.
    Only 2 of the three entries should be passed.  
    If numSteps and stepSize are passed (regardless of whether maxRadius is passed), they will be used for the computation.  Otherwise, the two non-none valued entries will be used to calculate the third.

suppressOutput
    If true, gets rid of printed output from perseus.

Outputs
-------
Dgms
    A dictionary with integer keys 0,1,...,N 
    The key gives the dimension of the persistence diagram.</pre> 
</div>
</div>
<a class="anchor" id="ae38f90d312da5c7fb8587a2f44e67b8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def teaspoon.TDA.Persistence.VR_Ripser </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxDim</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes persistence up to dimension maxDim using Uli Bauer's Ripser
Needs to be installed on machine in advance
https://github.com/Ripser/ripser 


Parameters
----------
P -
    A point cloud as an NxD numpy array.
    N is the number of points, D is the dimension of
    Euclidean space.
maxDim -
    An integer representing the maximum dimension
    for computing persistent homology

Returns
-------
Dgms -  
    A dictionary where Dgms[k] is a lx2 matrix 
    giving points in the k-dimensional pers diagram</pre> 
</div>
</div>
<a class="anchor" id="a7ee47776929d1ade75b059415918a328"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def teaspoon.TDA.Persistence.writeMatrixFileForPerseus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filesavename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given 2D matrix M, write into file format read by Perseus.
Info on format can be found at: 
http://people.maths.ox.ac.uk/nanda/perseus/index.html

TODO: Set this up to work with higher-dimensional cubical complexes
</pre> 
</div>
</div>
<a class="anchor" id="a074e092c57bca5b1652c7b2a2c41f603"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def teaspoon.TDA.Persistence.writePointCloudFileForPerseus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stepSize</em> = <code>.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>numSteps</em> = <code>500</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Writes the point cloud to a file in the perseus format.

Notes:
    Vidit has options for radius scaling factor. TODO: Figure out if this should be 1 or 2

Parameters
----------
P
    An NxD array.  Represents N points in R^D.
filename
    location for saving the file
stepSize
numSteps
    Perseus requires that you decide how many steps, and how wide they are, rather than computing all possible topological changes.  So, persistence will be calculated from parameter 0 until stepSize*numSteps.</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>

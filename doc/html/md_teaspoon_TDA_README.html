<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>teaspoon: teaspoon.TDA</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">teaspoon
   </div>
   <div id="projectbrief">Python wrappers for TDA</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">teaspoon.TDA </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Code for using <a href="https://github.com/Ripser/ripser">Ripser</a>, <a href="http://people.maths.ox.ac.uk/nanda/perseus/index.html">Perseus</a>, and <a href="https://bitbucket.org/grey_narn/hera">Hera</a> in python.</p>
<h2>General notes on format</h2>
<p>All diagrams are stored as an Lx2 numpy matrix. Code for computing persistence returns a dictionary with multiple dimensions of persistence where keys are the dimensions. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Dgms = {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    0: DgmDimension0,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    1: DgmDimension1,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    2: DgmDimension2</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment --><p> Infinite classes are given an entry of np.inf. <em>TODO: Check that this is true.</em></p>
<p>In the process of computation, data files are saved in a hidden folder .teaspoonData This folder is created if it doesn't already exist. Files are repeatedly emptied out of it, so do not save anything in it that you might want later! </p><hr/>
<h2>Persistence for Point Clouds</h2>
<h3>Using Ripser</h3>
<p>To date, this is the fastest code for doing point cloud persistence. Computes persistence of a point cloud using <a href="https://github.com/Ripser/ripser">Ripser</a>.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;VR_Ripser(P, maxDim = 1)</div></div><!-- fragment --><p>Note: This code actually just computes the pairwise distance matrix and passes it to distMat_Ripser</p>
<h4>Parameters</h4>
<ul>
<li>P = A point cloud as an NxD numpy array. N is the number of points, D is the dimension of Euclidean space.</li>
<li>maxDim = An integer representing the maximum dimension for computing persistent homology.</li>
</ul>
<h4>Returns</h4>
<ul>
<li>Dgms = A dictionary where Dgms[k] is an Lx2 matrix, where L is the number of points in the persistence diagram. Infinite classes are given with an np.inf entry.</li>
</ul>
<h3>Using Perseus</h3>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;VR_Perseus(P,dim = 1, </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;            maxRadius = 3, numSteps = 100, stepSize = None,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;            suppressOutput = True)</div></div><!-- fragment --><p>Does brips version of perseus. Computes VR persitsence on points in Euclidean space.</p>
<h4>Warnings:</h4>
<ol type="1">
<li>Requires choice of maxRadius, numSteps, and/or stepSize. Bad choices will give junk results. So, you'll need at least a little knowledge of your data a priori.</li>
<li>TODO: Perseus appears to spit out radius rather than diameter persistence computations. Need to figure this out and make the choice uniform across outputs.</li>
</ol>
<h4>Parameters</h4>
<ul>
<li>P<ul>
<li>An NxD array. Represents N points in R^D.</li>
</ul>
</li>
<li>maxRadius, stepSize, numSteps<ul>
<li>Only 2 of the three entries should be passed.</li>
<li>Perseus requires that you decide how many steps, and how wide they are, rather than computing all possible topological changes. So, persistence will be calculated from parameter 0 until maxRadius = stepSize*numSteps.</li>
<li>If numSteps and stepSize are passed (regardless of whether maxRadius is passed), they will be used for the computation. Otherwise, the two non-none valued entries will be used to calculate the third. <em>TODO: Check that this is actually the behavior!</em></li>
</ul>
</li>
<li>suppressOutput<ul>
<li>If true, gets rid of printed output from perseus.</li>
</ul>
</li>
</ul>
<h4>Outputs</h4>
<ul>
<li>Dgms<ul>
<li>A dictionary with integer keys 0,1,...,N The key gives the dimension of the persistence diagram.</li>
</ul>
</li>
</ul>
<hr/>
<h2>Persistence for Distance Matrices</h2>
<p>Computes persistence of data given as a pairwise distance matrix using <a href="https://github.com/Ripser/ripser">Ripser</a>.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;distMat_Ripser(distMat, maxDim = 1)</div></div><!-- fragment --><h4>Parameters</h4>
<ul>
<li>distMat<ul>
<li>A pairwise distance matrix (note: symmetric!) given as an NxN numpy array.</li>
</ul>
</li>
<li>maxDim<ul>
<li>An integer representing the maximum dimension for computing persistent homology.</li>
</ul>
</li>
</ul>
<h4>Returns</h4>
<ul>
<li>Dgms = A dictionary where Dgms[k] is an Lx2 matrix, where L is the number of points in the persistence diagram. Infinite classes are given with an np.inf entry.</li>
</ul>
<hr/>
<h2>Persistence for Cubical Complexes (Images)</h2>
<p>Computes persistence for a matrix of function values. Uses Vidit Nanda's perseus.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Cubical_Perseus(M, numDigits = 2, suppressOutput = True):</div></div><!-- fragment --><p><b>Warnings:</b></p>
<ol type="1">
<li>Perseus must be in the bash path</li>
<li>Matrix must be 2-dimensional. <em>TODO: Update this to accept higher dimensional cubical complexes.</em></li>
</ol>
<h4>Parameters:</h4>
<ul>
<li>M<ul>
<li>A 2D numpy array representing the image.</li>
</ul>
</li>
<li>numDigits<ul>
<li>Perseus only accepts positive integer valued matrices. To compensate, we apply the transformation <code>x -&gt; x* (10**numDigits) + M.min()</code> then calculate persistence on the resulting matrix. The persistence diagram birth/death times are then converted back via the inverse transform.</li>
</ul>
</li>
<li>suppressOutput<ul>
<li>If true, gets rid of printed output from perseus.</li>
</ul>
</li>
</ul>
<h4>Outputs</h4>
<ul>
<li>Dgms<ul>
<li>A dictionary with integer keys 0,1,...,N. The key gives the dimension of the persistence diagram. <hr/>
 </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
